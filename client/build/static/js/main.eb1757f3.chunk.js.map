{"version":3,"sources":["component/GlobalState.js","component/Header.js","component/Balance.js","component/IncExp.js","component/Txn.js","component/TxnList.js","component/AddTxn.js","App.js","index.js"],"names":["initialState","txn","error","loading","GlobalContext","createContext","Reducer","state","action","type","p","reverse","filter","item","_id","GlobalProvider","children","useReducer","dispatch","getTxn","a","axios","get","res","data","response","addTxn","config","headers","post","delTxn","id","delete","Provider","value","Header","Balance","total","useContext","map","amount","reduce","acc","toFixed","toString","replace","IncExp","amounts","income","expense","format","x","className","Txn","sign","text","Math","abs","onClick","TxnList","useEffect","key","AddTxn","useState","setText","setAmount","onSubmit","e","preventDefault","document","querySelector","focus","placeholder","onChange","target","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eb1757f3.chunk.js","sourcesContent":["import React, { createContext, useReducer } from 'react';\nimport axios from 'axios';\n\nexport const initialState = {\n  txn: [],\n  error: null,\n  loading: true,\n};\n\nexport const GlobalContext = createContext(initialState);\n\nexport const Reducer = (state, action) => {\n  switch (action.type) {\n    case 'get':\n      return {\n        loading: false,\n        txn: action.p.reverse(),\n      };\n\n    case 'txnErr':\n      return {\n        ...state,\n        error: action.p,\n      };\n\n    case 'add':\n      return {\n        txn: [action.p, ...state.txn],\n      };\n\n    case 'del':\n      return {\n        txn: [...state.txn.filter((item) => item._id !== action.p)],\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const GlobalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(Reducer, initialState);\n\n  const getTxn = async () => {\n    try {\n      const res = await axios.get('/api/v1/transactions');\n\n      dispatch({\n        type: 'get',\n        p: res.data.data,\n      });\n    } catch (err) {\n      dispatch({\n        type: 'txnErr',\n        p: err.response.data.error,\n      });\n    }\n  };\n\n  const addTxn = async (txn) => {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    try {\n      const res = await axios.post('/api/v1/transactions', txn, config);\n\n      dispatch({\n        type: 'add',\n        p: res.data.data,\n      });\n    } catch (err) {\n      dispatch({\n        type: 'txnErr',\n        p: err.response.data.error,\n      });\n    }\n  };\n\n  const delTxn = async (id) => {\n    try {\n      await axios.delete(`/api/v1/transactions/${id}`);\n\n      dispatch({\n        type: 'del',\n        p: id,\n      });\n    } catch (err) {\n      dispatch({\n        type: 'txnErr',\n        p: err.response.data.error,\n      });\n    }\n  };\n\n  return (\n    <GlobalContext.Provider\n      value={{\n        txn: state.txn,\n        error: state.error,\n        loading: state.loading,\n        getTxn,\n        addTxn,\n        delTxn,\n      }}\n    >\n      {children}\n    </GlobalContext.Provider>\n  );\n};\n","import React from 'react'\n\nfunction Header() {\n    return (\n        <h2>\n            Expense Tracker\n        </h2>\n    )\n}\n\nexport default Header\n","import React, { useContext } from 'react'\nimport { GlobalContext } from './GlobalState'\n\nfunction Balance() {\n    const {txn} = useContext(GlobalContext)\n\n    const format = (x) => {\n        return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    }\n\n    const amounts = txn.map(txn => txn.amount)\n\n    const total = amounts.reduce((acc, item) => (acc += item),0).toFixed(2)\n\n    return (\n        <>\n         <h4>Ypur Balance</h4>   \n         <h1>{format(total)}</h1>\n        </>\n    )\n}\n\nexport default Balance\n","import React, { useContext } from 'react';\nimport { GlobalContext } from './GlobalState';\n\nfunction IncExp() {\n  const { txn } = useContext(GlobalContext);\n\n  const amounts = txn.map((txn) => txn.amount);\n\n  const income = amounts\n    .filter((item) => item > 0)\n    .reduce((acc, item) => (acc += item), 0)\n    .toFixed(2);\n\n  const expense = (\n    amounts.filter((item) => item < 0).reduce((acc, item) => (acc += item), 0) *\n    -1\n  ).toFixed(2);\n\n  const format = (x) => {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n  return (\n    <div className=\"inc-exp-container\">\n      <div>\n          <h4>Income</h4>\n          <p className=\"money plus\">${format(income)}</p>\n      </div>\n      <div>\n          <h4>Expense</h4>\n          <p className=\"money minus\">${format(expense)}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default IncExp;\n","import React, { useContext } from 'react';\nimport { GlobalContext } from './GlobalState';\n\nfunction Txn({ txn }) {\n  const { delTxn } = useContext(GlobalContext);\n\n  const format = (x) => {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  };\n\n  const sign = txn.amount > 0 ? '+' : '-';\n\n  return (\n    <>\n      <li className={txn.amount > 0 ? 'plus' : 'minus'}>\n        {txn.text}{' '}\n        <span>\n          {sign} ${format(Math.abs(txn.amount))}\n        </span>\n        <button onClick={() => delTxn(txn._id)} className='delete-btn'>\n          X\n        </button>\n      </li>\n    </>\n  );\n}\n\nexport default Txn;\n","import React, { useContext, useEffect } from 'react';\nimport { GlobalContext } from './GlobalState';\nimport Txn from './Txn';\n\nfunction TxnList() {\n  const { txn, getTxn } = useContext(GlobalContext);\n\n  useEffect(() => {\n    getTxn();\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      <h3>History</h3>\n      <ul className='list'>\n        {txn.map((txn) => (\n          <Txn key={txn._id} txn={txn} />\n        ))}\n      </ul>\n    </>\n  );\n}\n\nexport default TxnList;\n","import React, { useState, useContext } from 'react';\nimport * as uuid from 'uuid';\nimport { GlobalContext } from './GlobalState';\n\nfunction AddTxn() {\n  const [text, setText] = useState('');\n  const [amount, setAmount] = useState('');\n\n  const {addTxn} = useContext(GlobalContext)\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!text || !amount) return;\n    const nTxn = {\n      text,\n      amount: +amount,\n    };\n    addTxn(nTxn)\n    setText('')\n    setAmount('')\n    document.querySelector('.textbox').focus()\n  };\n\n  return (\n    <>\n      <h3>Add Transaction</h3>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>Text</label>\n          <input\n            type='text'\n            value={text}\n            placeholder='Add Text...'\n            className='textbox'\n            onChange={(e) => setText(e.target.value)}\n          />\n        </div>\n        <div>\n          <label>\n            Amount\n            <br />\n            (positive - income, negative - expense)\n          </label>\n          <input\n            type='number'\n            value={amount}\n            placeholder='Add Amount...'\n            onChange={(e) => setAmount(e.target.value)}\n          />\n        </div>\n        <button className='btn'>Add Transaction</button>\n      </form>\n    </>\n  );\n}\n\nexport default AddTxn;\n","import React from 'react';\nimport './App.css';\nimport {GlobalProvider} from './component/GlobalState'\nimport Header from './component/Header';\nimport Balance from './component/Balance';\nimport IncExp from './component/IncExp';\nimport TxnList from './component/TxnList';\nimport AddTxn from './component/AddTxn';\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <GlobalProvider>\n      <Header />\n      <Balance />\n      <IncExp />\n      <TxnList />\n      <AddTxn />\n      </GlobalProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}